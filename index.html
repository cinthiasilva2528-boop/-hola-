<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Mi Jueguito de HÃ¡bitos</title>

<style>
:root{
  --rosa:#f8c8d8;
  --rosa-claro:#fde8ef;
  --rosa-card:#fff3f7;
  --texto:#6b4b57;
}

body{
  margin:0;
  font-family: 'Quicksand', system-ui, sans-serif;
  background:var(--rosa);
  color:var(--texto);
}

.app{
  max-width:420px;
  margin:auto;
  padding:16px;
}

header{
  text-align:center;
  font-size:1.5em;
  font-weight:700;
  margin-bottom:12px;
}

.card{
  background:var(--rosa-card);
  border-radius:20px;
  padding:16px;
  margin-bottom:16px;
  box-shadow:0 6px 12px rgba(0,0,0,.05);
}

h2{
  margin:0 0 12px;
  font-size:1.1em;
}

.task{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:6px 0;
}

.task label{
  flex:1;
  cursor:pointer;
}

.task input{
  display:none;
}

.check{
  width:22px;
  height:22px;
  border-radius:50%;
  border:2px solid var(--rosa);
  display:flex;
  align-items:center;
  justify-content:center;
}

input:checked + .check{
  background:#ff9fc3;
}

.progress{
  margin-top:10px;
  height:16px;
  background:#f5b6cb;
  border-radius:20px;
  overflow:hidden;
}

.fill{
  height:100%;
  width:0%;
  background:#fff;
  transition:.4s;
}

.bunny{
  position:fixed;
  bottom:20px;
  right:20px;
  font-size:60px;
  transition:.3s;
}

.bunny.happy{
  transform:scale(1.1);
}

.reward{
  opacity:.3;
  text-align:center;
  padding:12px;
  border:2px dashed #f3a4bd;
  border-radius:16px;
}

.reward.unlocked{
  opacity:1;
}

button{
  background:none;
  border:none;
  font-size:1.2em;
  cursor:pointer;
}

.history{
  font-size:.9em;
}
</style>
</head>

<body>
<div class="app">

<header>ğŸŒ¸ Mi Jueguito de HÃ¡bitos ğŸ’—</header>

<div class="card">
<h2>â˜€ï¸ Rutina Diaria</h2>

<div class="task">
<label>Rutina Matutina + Postura</label>
<input type="checkbox" data-task>
<span class="check"></span>
</div>

<div class="task">
<label>Limpieza Ligera del Hogar</label>
<input type="checkbox" data-task>
<span class="check"></span>
</div>

<div class="task">
<label>Aprender 10 TÃ©rminos MÃ©dicos</label>
<input type="checkbox" data-task>
<span class="check"></span>
</div>

<div class="task">
<label>Aprender 10 Palabras en InglÃ©s</label>
<input type="checkbox" data-task>
<span class="check"></span>
</div>

<div class="task">
<label>Leer GuÃ­as de ConducciÃ³n</label>
<input type="checkbox" data-task>
<span class="check"></span>
</div>

<div class="progress"><div class="fill"></div></div>
</div>

<div class="card">
<h2>ğŸŒ™ Rutina Nocturna</h2>

<div class="task">
<label>Once Familiar</label>
<input type="checkbox" data-task>
<span class="check"></span>
</div>

<div class="task">
<label>Lavar y Despejar Cocina</label>
<input type="checkbox" data-task>
<span class="check"></span>
</div>

<div class="task">
<label>Repaso Fisio / QuÃ­mica</label>
<input type="checkbox" data-task>
<span class="check"></span>
</div>

<div class="task">
<label>Cepillado Nocturno</label>
<input type="checkbox" data-task>
<span class="check"></span>
</div>

<div class="progress"><div class="fill"></div></div>
</div>

<div class="card reward" id="reward">
ğŸ’– Recompensa de Doramas<br>
<small>Se desbloquea al 80%</small>
</div>

<div class="card history">
<h2>ğŸ“… Historial</h2>
<ul id="historyList"></ul>
</div>

<button id="reset">ğŸ’” Reiniciar dÃ­a</button>

</div>

<div class="bunny" id="bunny">ğŸ°</div>

<script>
const tasks = document.querySelectorAll('[data-task]');
const fills = document.querySelectorAll('.fill');
const bunny = document.getElementById('bunny');
const reward = document.getElementById('reward');
const historyList = document.getElementById('historyList');

const today = new Date().toLocaleDateString();

function save(){
  const state=[...tasks].map(t=>t.checked);
  localStorage.setItem('state',JSON.stringify(state));
  localStorage.setItem('date',today);
}

function load(){
  if(localStorage.getItem('date')!==today){
    recordDay();
    localStorage.removeItem('state');
  }
  const state=JSON.parse(localStorage.getItem('state')||'[]');
  tasks.forEach((t,i)=>t.checked=state[i]||false);
  update();
}

function update(){
  const done=[...tasks].filter(t=>t.checked).length;
  const total=tasks.length;
  const percent=Math.round(done/total*100);

  fills.forEach(f=>f.style.width=percent+'%');

  if(percent>=80) reward.classList.add('unlocked');
  else reward.classList.remove('unlocked');
}

function recordDay(){
  const prev=JSON.parse(localStorage.getItem('history')||'[]');
  const checked=[...tasks].filter(t=>t.checked).length;
  if(checked>0){
    prev.push({date:localStorage.getItem('date'),percent:Math.round(checked/tasks.length*100)});
    localStorage.setItem('history',JSON.stringify(prev));
  }
}

tasks.forEach(t=>{
  t.addEventListener('change',()=>{
    bunny.classList.add('happy');
    setTimeout(()=>bunny.classList.remove('happy'),400);
    save();update();
  });
});

document.getElementById('reset').onclick=()=>{
  if(confirm('Â¿Reiniciar el progreso de hoy?')){
    recordDay();
    localStorage.removeItem('state');
    update();
    tasks.forEach(t=>t.checked=false);
  }
};

function loadHistory(){
  const h=JSON.parse(localStorage.getItem('history')||'[]');
  historyList.innerHTML='';
  h.forEach(d=>{
    const li=document.createElement('li');
    li.textContent=`${d.date} â€” ${d.percent}%`;
    historyList.appendChild(li);
  });
}

load();
loadHistory();
</script>

</body>
</html>
