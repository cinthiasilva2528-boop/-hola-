<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Rutina Vacaciones</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --rosa:#f9c5d1;
  --rosa2:#fde7ee;
  --card:#fff6f9;
  --texto:#6a4a57;
}
body{
  margin:0;
  font-family:'Quicksand',sans-serif;
  background:var(--rosa);
  color:var(--texto);
}
.app{
  max-width:420px;
  margin:auto;
  padding:16px 14px 120px;
}
header{
  text-align:center;
  font-size:1.5em;
  font-weight:700;
  margin-bottom:10px;
}
.card{
  background:var(--card);
  border-radius:22px;
  padding:16px;
  margin-bottom:14px;
  box-shadow:0 6px 14px rgba(0,0,0,.08);
}
.task{
  display:flex;
  gap:10px;
  margin-bottom:10px;
}
.task input{
  transform:scale(1.3);
  margin-top:4px;
}
.task small{
  display:block;
  font-size:.75em;
  opacity:.75;
}
.bunny{
  position:fixed;
  bottom:18px;
  right:18px;
  font-size:64px;
  transition:.3s;
}
.bunny.happy{
  transform:scale(1.2) rotate(-6deg);
}
button{
  background:#f3a6bb;
  border:none;
  border-radius:14px;
  padding:6px 12px;
  color:white;
  font-size:.8em;
  cursor:pointer;
}
.hidden{display:none}
</style>
</head>

<body>

<div class="bunny" id="bunny">üê∞</div>

<div class="app">
<header id="dayTitle"></header>

<div class="card" id="tasks"></div>

<div class="card">
<button onclick="resetDay()">üîÑ Reiniciar d√≠a</button>
</div>

<div class="card">
<h3>üìÖ Historial</h3>
<ul id="history"></ul>
</div>
</div>

<script>
// =======================
// CONFIGURACI√ìN POR D√çA
// =======================
const rutinas = {
  lunes:[
    ["08:00","Rutina matutina","Levantarte, hacer cama, higiene, postura"],
    ["08:30","Limpieza diaria","Barrer, platos, basura, mesas"],
    ["09:30","Estudio fuerte","Fisio / Qu√≠mica"],
    ["13:00","Cocinar almuerzo","Comida casera"],
    ["14:00","Lavar loza","Inmediatamente"],
    ["15:00","Repaso","Gu√≠as / ingl√©s / t√©rminos m√©dicos"],
    ["16:30","Ejercicio","Piernas + gl√∫teos"],
    ["17:00","Ducha","Relajarte"],
    ["19:30","Once","En familia"],
    ["20:15","Cocina","Dejar todo limpio"],
    ["21:00","Repaso ligero","10‚Äì20 min"],
    ["22:00","Higiene nocturna","Dientes, piel, preparar ma√±ana"]
  ],
  martes:[
    ["08:00","Rutina matutina","Orden + postura"],
    ["08:30","Limpieza diaria","Hogar"],
    ["09:30","Estudio fuerte","Fisio"],
    ["13:00","Cocinar almuerzo",""],
    ["14:00","Lavar loza",""],
    ["15:00","Repaso","Ingl√©s / t√©rminos"],
    ["16:30","Ejercicio","Abdomen + brazos"],
    ["17:00","Ducha",""],
    ["19:30","Once",""],
    ["20:15","Cocina",""],
    ["22:00","Rutina nocturna",""]
  ],
  jueves:[
    ["08:00","Limpieza profunda","Camas, ba√±o, heladera, piso"],
    ["13:00","Cocinar almuerzo",""],
    ["14:00","Lavar loza",""],
    ["17:00","Ducha",""],
    ["19:30","Once",""],
    ["20:15","Cocina",""],
    ["22:00","Rutina nocturna",""]
  ]
};

// =======================
// FECHA ACTUAL
// =======================
const dias = ["domingo","lunes","martes","mi√©rcoles","jueves","viernes","s√°bado"];
const hoy = new Date();
const diaNombre = dias[hoy.getDay()];
document.getElementById("dayTitle").textContent =
  diaNombre.toUpperCase()+" "+hoy.toLocaleDateString();

// =======================
// RENDER
// =======================
const tasksDiv=document.getElementById("tasks");
const bunny=document.getElementById("bunny");

function load(){
  const data = rutinas[diaNombre] || [];
  const state = JSON.parse(localStorage.getItem(diaNombre)||"{}");
  tasksDiv.innerHTML="<h3>üïí Rutina del d√≠a</h3>";
  data.forEach((t,i)=>{
    tasksDiv.innerHTML+=`
      <label class="task">
        <input type="checkbox" ${state[i]?"checked":""} data-i="${i}">
        <span><b>${t[0]} ‚Äì ${t[1]}</b><small>${t[2]}</small></span>
      </label>`;
  });
}

tasksDiv.addEventListener("change",e=>{
  if(e.target.matches("input")){
    const state=JSON.parse(localStorage.getItem(diaNombre)||"{}");
    state[e.target.dataset.i]=e.target.checked;
    localStorage.setItem(diaNombre,JSON.stringify(state));
    bunny.classList.add("happy");
    setTimeout(()=>bunny.classList.remove("happy"),300);
  }
});

function resetDay(){
  if(confirm("¬øReiniciar este d√≠a?")){
    localStorage.removeItem(diaNombre);
    load();
  }
}

function loadHistory(){
  const ul=document.getElementById("history");
  ul.innerHTML="";
  dias.forEach(d=>{
    if(localStorage.getItem(d)){
      ul.innerHTML+=`<li>${d}</li>`;
    }
  });
}

load();
loadHistory();
</script>

</body>
</html>
